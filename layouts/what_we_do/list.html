{{ define "main" }}
<!-- Header & Hero -->
{{ partial "hero.html" . }}

<div
  class="h-fit min-h-screen flex flex-col justify-center w-full overflow-hidden relative px-7"
  id="firstsection"
>
  <div class="bg-white">
    <h2 class="text-[#0E773F] text-base font-semibold text-center mb-2 mt-4">
      {{ i18n "Goalsac540" }}
    </h2>
    <h2
      class="text-gray-800 text-2xl font-semibold text-center font-['Playfair Display'] font-serif mb-4"
    >
      {{ i18n "WhatWd982d" }}
    </h2>
    <p
      class="p-10 font-sans text-sm antialiased font-light leading-relaxed text-gray-700 text-center"
    >
      {{ i18n "RC'so464b6" }}
    </p>
  </div>
  <!-- New Cards -->
  <div class="flex flex-col lg:flex-row justify-center bg-gray-50">
    <div class="flex w-full lg:w-1/3 items-center p-6 lg:px-8">
      <div
        class="flex flex-col w-full px-4 py-6 h-full text-center items-center max-w-md"
      >
        <div class="h-12 w-12 mb-2">
          <img
            loading="lazy"
            alt=""
            class="h-full w-full"
            src="/notassets/icons/training.png"
          />
        </div>
        <div class="flex flex-col">
          <span class="font-bold mb-2">{{ i18n "Trainb3bf0" }}</span>
          <span class="text-gray-500 mb-2">{{ i18n "Equip9b9b5" }}</span>
        </div>
        <div class="flex items-center text-[#0E773F] gap-1">
          <a href="#area1"
            ><span class="font-semibold">{{ i18n "SeeMo5fac7" }}</span>
          </a>
          <span class="material-symbols-outlined"> arrow_circle_right </span>
        </div>
      </div>
    </div>
    <div class="flex w-full lg:w-1/3 items-center p-6 lg:px-8">
      <div
        class="flex flex-col w-full px-4 py-6 h-full text-center items-center max-w-md"
      >
        <div class="h-12 w-12 mb-2">
          <img
            loading="lazy"
            alt=""
            class="h-full w-full"
            src="/notassets/icons/community-engagement.png"
          />
        </div>
        <div class="flex flex-col">
          <span class="font-bold mb-2">{{ i18n "Commu7e02c" }}</span>
          <span class="text-gray-500 mb-2">{{ i18n "Initidbd11" }}</span>
        </div>
        <div class="flex items-center text-[#0E773F] gap-1">
          <a href="#area2"
            ><span class="font-semibold">{{ i18n "SeeMo5fac7" }}</span>
          </a>
          <span class="material-symbols-outlined"> arrow_circle_right </span>
        </div>
      </div>
    </div>
    <div class="flex w-full lg:w-1/3 items-center p-6 lg:px-8">
      <div
        class="flex flex-col w-full px-4 py-6 h-full text-center items-center max-w-md"
      >
        <div class="h-12 w-12 mb-2">
          <img
            loading="lazy"
            alt=""
            class="h-full w-full"
            src="/notassets/icons/collaborations.png"
          />
        </div>
        <div class="flex flex-col">
          <span class="font-bold mb-2">{{ i18n "Colla97ab4" }}</span>
          <span class="text-gray-500 mb-2">{{ i18n "Empowdaf53" }}</span>
        </div>
        <div class="flex items-center text-[#0E773F] gap-1">
          <a href="#area3"
            ><span class="font-semibold">{{ i18n "SeeMo5fac7" }}</span>
          </a>
          <span class="material-symbols-outlined"> arrow_circle_right </span>
        </div>
      </div>
    </div>
    <div class="flex w-full lg:w-1/3 items-center p-6 lg:px-8">
      <div
        class="flex flex-col w-full px-4 py-6 h-full text-center items-center max-w-md"
      >
        <div class="h-12 w-12 mb-2">
          <img
            loading="lazy"
            alt=""
            class="h-full w-full"
            src="/notassets/icons/tour.png"
          />
        </div>
        <div class="flex flex-col">
          <span class="font-bold mb-2">{{ i18n "Volun671f4" }}</span>
          <span class="text-gray-500 mb-2">{{ i18n "Impac18408" }}</span>
        </div>
        <div class="flex items-center text-[#0E773F] gap-1">
          <a href="#area4"
            ><span class="font-semibold">{{ i18n "SeeMo5fac7" }}</span>
          </a>
          <span class="material-symbols-outlined"> arrow_circle_right </span>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- section 1 -->
<div class="min-h-screen w-full mb-10">
  <!-- banner -->
  <div class="w-full px-7">
    <div class="pt-4">
      <h2 class="text-[#0E773F] text-base font-semibold" id="area1">
        {{ i18n "Proje5071e" }}
      </h2>
      <h2
        class="text-gray-950 text-2xl font-semibold font-['Playfair Display'] font-serif mb-4"
      >
        {{ i18n "Collaf0ff8" }}
      </h2>
    </div>
    <article
      class="relative isolate flex flex-col justify-end overflow-hidden rounded-2xl px-8 pb-8 pt-20 lg:pt-40 w-full mx-auto"
    >
      <img
        loading="lazy"
        alt="University of Southern California"
        class="absolute inset-0 h-full w-full object-cover"
        src="/notassets/somekindameeting.jpg"
      />
      <div
        class="absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/40"
      ></div>
      <h3 class="z-10 mt-3 mb-2 text-3xl font-bold text-white">
        {{ i18n "AGENTf2c83" }}
      </h3>
      <div
        class="z-10 gap-y-1 overflow-hidden text-sm leading-6 text-gray-300 lg:text-left rtl:text-right"
      >
        {{ i18n "Sincefbd7d" }}
      </div>
    </article>
  </div>
  <!-- New Blaze Slider Format -->
  <div class="relative px-7 overflow-hidden">
    <div class="pt-8 blaze-slider">
      <div class="blaze-container">
        <div class="blaze-track">
          {{ with .Site.GetPage "/projects" }} {{ range .Pages }}
          <!-- Slide x -->
          {{ if .Params.collab }}

          <div class="blaze-slide">
            <div class="w-80 h-fit mr-2">
              <div class="w-full h-60 relative">
                <img
                  loading="lazy"
                  alt=""
                  class="rounded-lg w-full object-cover h-full"
                  src="/notassets/Projects pics/{{.Params.thumbnail}}"
                />
                <div
                  class="rounded-lg absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/40"
                ></div>
              </div>
              <h2
                class="text-gray-800 text-base font-semibold mt-4 line-clamp-1"
              >
                {{.Params.title}}
              </h2>
            </div>
          </div>
          {{ end }} {{ end }} {{ end }}
        </div>
      </div>
    </div>
  </div>
</div>
<!-- section 2 -->
<div class="min-h-screen w-full mb-10">
  <!-- banner 2 -->
  <div class="w-full px-7">
    <div class="pt-4 border-t">
      <h2 class="text-[#0E773F] text-base font-semibold" id="area2">
        {{ i18n "Proje5071e" }}
      </h2>
      <h2
        class="text-gray-950 text-2xl font-semibold font-['Playfair Display'] font-serif mb-4"
      >
        {{ i18n "Commu9db78" }}
      </h2>
    </div>
    <article
      class="relative isolate flex flex-col justify-end overflow-hidden rounded-2xl px-8 pb-8 pt-20 lg:pt-40 w-full mx-auto"
    >
      <img
        loading="lazy"
        alt="University of Southern California"
        class="absolute inset-0 h-full w-full object-cover"
        src="/notassets/project banner green version.png"
      />
      <div
        class="absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/40"
      ></div>
      <h3 class="z-10 mt-3 mb-2 text-3xl font-bold text-white">
        {{ i18n "EXCHAd95a9" }}
      </h3>
      <div
        class="z-10 gap-y-1 overflow-hidden text-sm leading-6 text-gray-300 lg:text-left rtl:text-right"
      >
        {{ i18n "Resil4a2f7" }}
      </div>
    </article>
  </div>
  <!-- slider 2 -->
  <div class="relative px-7 overflow-hidden">
    <div class="pt-8 blaze-slider">
      <div class="blaze-container">
        <div class="blaze-track">
          {{ with .Site.GetPage "/projects" }} {{ range .Pages }} {{ if
          .Params.commu }}

          <!-- Slide x -->
          <div class="blaze-slide">
            <div class="w-80 h-fit mr-2">
              <div class="w-full h-60 relative">
                <img
                  loading="lazy"
                  alt=""
                  class="rounded-lg w-full object-cover h-full"
                  src="/notassets/Projects pics/{{.Params.thumbnail}}"
                />
                <div
                  class="rounded-lg absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/40"
                ></div>
              </div>
              <h2
                class="text-gray-800 text-base font-semibold mt-4 line-clamp-1"
              >
                {{.Params.title}}
              </h2>
            </div>
          </div>
          {{ end }} {{ end }} {{ end }}
        </div>
      </div>
    </div>
  </div>
</div>
<!-- section 3 -->
<div class="min-h-screen w-full mb-10">
  <!-- banner 3 -->
  <div class="w-full px-7">
    <div class="pt-4 border-t">
      <h2 class="text-[#0E773F] text-base font-semibold" id="area3">
        {{ i18n "Proje5071e" }}
      </h2>
      <h2
        class="text-gray-950 text-2xl font-semibold font-['Playfair Display'] font-serif mb-4"
      >
        {{ i18n "Trainb3bf0" }}
      </h2>
    </div>
    <article
      class="relative isolate flex flex-col justify-end overflow-hidden rounded-2xl px-8 pb-8 pt-20 lg:pt-40 w-full mx-auto"
    >
      <img
        loading="lazy"
        alt="University of Southern California"
        class="absolute inset-0 h-full w-full object-cover"
        src="/notassets/Projects pics/Training and development/banner.jpg"
      />
      <div
        class="absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/40"
      ></div>
      <h3 class="z-10 mt-3 mb-2 text-3xl font-bold text-white">
        {{ i18n "EDUCA2cf63" }}
      </h3>
      <div
        class="z-10 gap-y-1 overflow-hidden text-sm leading-6 text-gray-300 lg:text-left rtl:text-right"
      >
        {{ i18n "Resil06757" }}
      </div>
    </article>
  </div>
  <!-- Slider 3 -->
  <div class="relative px-7 overflow-hidden">
    <div id="blur-overlay"></div>
    <div class="pt-8 blaze-slider">
      <div class="blaze-container">
        <div class="blaze-track">
          {{ with .Site.GetPage "/workshops" }} {{ range .Pages }}
          <!-- Slide x -->
          <div class="blaze-slide">
            <div
              class="w-80 h-fit mr-2"
              data-description="{{.Params.description}}"
              data-docurl="{{.Params.document}}"
              data-title="{{.Params.title}}"
              data-train="yes"
            >
              <div class="w-full h-60 relative">
                <img
                  loading="lazy"
                  alt=""
                  class="rounded-lg w-full object-cover h-full"
                  src="/notassets/Projects pics/{{.Params.thumbnail}}"
                />
                <div
                  class="rounded-lg absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/40"
                ></div>
              </div>
              <h2
                class="text-gray-800 text-base font-semibold mt-4 line-clamp-1"
              >
                {{.Params.title}}
              </h2>
            </div>
          </div>
          {{ end }} {{ end }}
        </div>
      </div>
    </div>
  </div>
</div>
<!-- section 4 -->
<div class="min-h-screen w-full mb-10">
  <!-- banner 4 -->
  <div class="w-full px-7">
    <div class="pt-4 border-t">
      <h2 class="text-[#0E773F] text-base font-semibold" id="area4">
        {{ i18n "Proje5071e" }}
      </h2>
      <h2
        class="text-gray-950 text-2xl font-semibold font-['Playfair Display'] font-serif mb-4"
      >
        {{ i18n "Volun671f4" }}
      </h2>
    </div>
    <article
      class="relative isolate flex flex-col justify-end overflow-hidden rounded-2xl px-8 pb-8 pt-20 lg:pt-40 w-full mx-auto"
    >
      <img
        loading="lazy"
        alt="University of Southern California"
        class="absolute inset-0 h-full w-full object-cover"
        src="/notassets/sky-toubkal.jpg"
      />
      <div
        class="absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/40"
      ></div>
      <a
        class="z-10 mt-3 mb-2 text-3xl font-bold text-white hover:underline"
        href="{{ .Site.BaseURL}}/volunteer_group"
        >{{ i18n "BUILD312c2" }}</a
      >
      <div
        class="z-10 gap-y-1 overflow-hidden text-sm leading-6 text-gray-300 lg:text-left rtl:text-right"
      >
        {{ i18n "Custoea496" }}
      </div>
    </article>
  </div>
  <!-- Slider 4 -->
  <div class="relative px-7 overflow-hidden">
    <div class="pt-8 blaze-slider">
      <div class="blaze-container">
        <div class="blaze-track">
          {{ with .Site.GetPage "/volunteer_group" }} {{ range .Pages }}
          <!-- Slide x -->
          <div class="blaze-slide">
            <div
              class="w-80 h-fit mr-2"
              data-description="{{.Params.description}}"
              data-docurl="{{.Params.document}}"
              data-title="{{.Params.title}}"
              data-train="no"
            >
              <div class="w-full h-60 relative">
                <img
                  loading="lazy"
                  alt=""
                  class="rounded-lg w-full object-cover h-full"
                  src="{{.Params.thumbnail}}"
                />
                <div
                  class="rounded-lg absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/40"
                ></div>
              </div>
              <h2
                class="text-gray-800 text-base font-semibold mt-4 line-clamp-1"
              >
                {{.Params.title}}
              </h2>
            </div>
          </div>
          {{ end }} {{ end }}
        </div>
      </div>
    </div>
  </div>
</div>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    // Initialize sliders array
    const sliders = [];

    const initializeSliders = () => {
      // Destroy existing sliders if they exist
      sliders.forEach((slider) => slider.destroy());
      sliders.length = 0; // Clear the sliders array

      // Find all elements with class '.blaze-slider' and initialize Blaze Slider for each
      const sliderElements = document.querySelectorAll(".blaze-slider");
      sliderElements.forEach((element) => {
        const slider = new BlazeSlider(element, {
          all: {
            slidesToShow: 1,
            transitionDuration: 300,
            loop: true,
          },
          "(min-width: 600px)": {
            slidesToShow: 1,
          },
          "(min-width: 800px)": {
            slidesToShow: 3.7,
          },
        });
        sliders.push(slider); // Push the initialized slider instance to the sliders array
      });
    };

    // Initialize sliders on page load
    initializeSliders();

    // Re-initialize sliders on window resize for responsiveness
    window.addEventListener("resize", initializeSliders);
  });
</script>
<script>
  // Content for the popup
  var blurOverlay = document.getElementById("blur-overlay");

  document.querySelectorAll(".blaze-slide > div").forEach((element) => {
    if (element.getAttribute("data-train") === "yes") {
      element.addEventListener("click", () => {
        openPopup(element);
      });
    }
  });

  function openPopup(element) {
    blurOverlay.style.display = "flex";
    var popup = document.createElement("div");
    popup.innerHTML = `
  <div class="bg-white flex flex-col justify-between m-auto rounded-lg lg:flex-row p-4 w-full max-w-4xl h-96">
      <div class="w-full lg:w-1/3 mb-4 lg:mb-0 lg:mr-4 h-full">
          <img loading="lazy" class="w-full h-full object-cover rounded-lg" src="${
            element.querySelector("img").src
          }" alt="Thumbnail">
      </div>
      <div class="w-full lg:w-2/3 lg:pl-4 h-full overflow-y-auto">
          <h2 class="text-gray-800 text-xl font-semibold mb-2">
              ${element.getAttribute("data-title")}
          </h2>
          <span class="text-gray-600 block mb-4">
              ${element.getAttribute("data-description")}
          </span>
          <a href="${element.getAttribute(
            "data-docurl"
          )}" download class="text-blue-500 hover:underline flex items-center mt-4">
              <img loading="lazy" src="/notassets/file.png" class="w-5 h-auto mr-2" alt="">
              Participant's Manual
          </a>
      </div>
  </div>
`;
    popup.style.position = "fixed";
    popup.style.width = "90%";
    popup.style.height = "auto";
    popup.style.top = "50%";
    popup.style.left = "50%";
    popup.style.transform = "translate(-50%, -50%)";
    popup.style.zIndex = "1111";
    popup.style.overflowY = "auto";
    popup.classList.add("popup"); // Add a class to the popup for easier selection
    document.body.appendChild(popup);

    blurOverlay.addEventListener(
      "click",
      (event) => {
        if (!popup.contains(event.target)) {
          closePopup(popup);
        }
      },
      { once: true }
    );
  }

  function closePopup(popup) {
    blurOverlay.style.display = "none";
    document.body.removeChild(popup);
  }
</script>

{{ end }}
