{{ define "main" }}
<style>
        #blur-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5); /* Adjust the alpha value for the desired opacity */
            backdrop-filter: blur(8px); /* Adjust the blur radius as needed */
            display: none;
            z-index: 1090;
        }
</style>
  
 
  
      <!-- Header & Hero -->
      <div class="h-screen overflow-hidden w-full">
        <div class="relative flex justify-center gap-4 flex-col items-center mx-auto h-full w-full bg-cover bg-local" style="background-image:url('../notassets/somekindameeting_better.png');">
                                  <!-- Header -->
  
                         {{ partial "header.html" .}}
                          <h1 class="font-['Playfair Display'] font-serif text-white text-5xl text-center leading-tight">
                            Resilient Communities <br> Around The World
                          </h1>
                          <span class="text-white line-clamp-4 text-center">
                              Our mission is to positively influence a multitude of communities,<br>ranging from renowned landmarks to undiscovered villages,<br>making a meaningful impact wherever we go.
                          </span>
                          <div class="flex gap-4">
                            <button class="text-white flex items-center justify-between gap-1 bg-[#0E773F] px-6 py-2 rounded-full font-bold min-w-[150px] hover:"><span>See Projects</span><span class="material-symbols-outlined">
                              arrow_right_alt
                              </span>
                            </button>
                            <button class="text-white flex items-center justify-between gap-1 border-[#0E773F] border-2 px-6 py-2 rounded-full font-bold min-w-[150px]"><span>Join Now</span><span class="material-symbols-outlined">
                              arrow_right_alt
                              </span>
                            </button>
                          </div>
  
  
        </div>
      </div>
  
      <div class="h-fit w-full overflow-hidden relative">
        <div class="bg-white">
          <h2 class="text-[#0E773F] text-base font-semibold text-center mb-2 mt-4">
              Goals & Causes
          </h2>
          <h2 class="text-gray-800 text-2xl font-semibold text-center font-['Playfair Display'] font-serif mb-4">
              What We Do At RC
          </h2>
          <p class="p-10 font-sans text-sm antialiased font-light leading-relaxed text-gray-700 text-left">
            RC's objectives revolve around the three-prongs of sustainable development: collaborative projects & programs (economic/environmental/social), training & development (social), and hosting community engagement activities for exchange programs (socio-cultural).
  
            If you are interested in learning more about our projects, how you or your association can partner with us, and/or how you can support our mission, feel free to contact us at ejohnson@resilientcommunitiesngo.org
          </p>
        </div>
  
  <!-- New Cards -->
  <div class="flex flex-col lg:flex-row justify-center bg-gray-50">
      <div class="flex w-full lg:w-1/3 items-center p-6 lg:px-8">
        <div class="flex flex-col w-full px-4 py-6 h-full text-center items-center max-w-md">
          <div class="h-12 w-12 mb-2">
              <img src="../notassets/icons/training.png" class="h-full w-full" alt="">
          </div>
          <div class="flex flex-col">
            <span class="font-bold mb-2">Training & Development</span>
            <span class="text-gray-500 mb-2">
              Your contribution not only fuels the success of our projects but also fosters a brighter future for communities in need.
            </span>
          </div>
          <div class="flex items-center text-[#0E773F] gap-1">
            <span class="font-semibold">See More</span>
            <span class="material-symbols-outlined">
              arrow_circle_right
            </span>
          </div>
        </div>
      </div>
      <div class="flex w-full lg:w-1/3 items-center p-6 lg:px-8">
        <div class="flex flex-col w-full px-4 py-6 h-full text-center items-center max-w-md">
          <div class="h-12 w-12 mb-2">
            <img src="../notassets/icons/community-engagement.png" class="h-full w-full" alt="">
          </div>
          <div class="flex flex-col">
            <span class="font-bold mb-2">Community Engagement</span>
            <span class="text-gray-500 mb-2">
              Your contribution not only fuels the success of our projects but also fosters a brighter future for communities in need.
            </span>
          </div>
          <div class="flex items-center text-[#0E773F] gap-1">
            <span class="font-semibold">See More</span>
            <span class="material-symbols-outlined">
              arrow_circle_right
            </span>
          </div>
        </div>
      </div>
      <div class="flex w-full lg:w-1/3 items-center p-6 lg:px-8">
        <div class="flex flex-col w-full px-4 py-6 h-full text-center items-center max-w-md">
          <div class="h-12 w-12 mb-2">
            <img src="../notassets/icons/collaborations.png" class="h-full w-full" alt="">
          </div>
          <div class="flex flex-col">
            <span class="font-bold mb-2">Collaborative Projects</span>
            <span class="text-gray-500 mb-2">
              Your contribution not only fuels the success of our projects but also fosters a brighter future for communities in need.
            </span>
          </div>
          <div class="flex items-center text-[#0E773F] gap-1">
            <span class="font-semibold">See More</span>
            <span class="material-symbols-outlined">
              arrow_circle_right
            </span>
          </div>
        </div>
      </div>
    </div>
  
  
  
      </div>
      <!-- banner -->
      <div class="w-full px-7">
        <div class="pt-4">
          <h2 class="text-[#0E773F] text-base font-semibold">
            Project Areas
          </h2>
          <h2 class="text-gray-950 text-2xl font-semibold font-['Playfair Display'] font-serif mb-4">
            Collaborative Projects & Programs
          </h2>
        </div>
        <article class="relative isolate flex flex-col justify-end overflow-hidden rounded-2xl px-8 pb-8 pt-20 lg:pt-40  w-full mx-auto">
          <img src="../notassets/somekindameeting.jpg" alt="University of Southern California" class="absolute inset-0 h-full w-full object-cover">
          <div class="absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/40"></div>
          <h3 class="z-10 mt-3 text-3xl font-bold text-white">Collaborative Projects & Programs</h3>
          <div class="z-10 gap-y-1 overflow-hidden text-sm leading-6 text-gray-300 text-justify lg:text-left">
            Since 2016, Resilient Communities has collaborated with the University of Cincinnati’s College of Engineering and Applied Sciences (UC CEAS) to establish capstone projects for senior engineering students. Under our guidance, these students conduct research and design projects, aiding in the development of pilot projects with Cadi Ayyad University’s National Center for Studies and Research on Water and Energy (CNEREE) in Marrakech. Furthermore, our internship program empowers interns to create workshops and projects with our support, fostering the belief that anyone can be an "agent of change" in their community given the appropriate resources and assistance.        </div>
        </article>
  
      </div>
 <!-- New Blaze Slider Format -->
<div class="relative px-7 overflow-hidden">
    <div class="pt-8 blaze-slider">
        <div class="blaze-container">
            <div class="blaze-track">
                {{ range .Pages }}
                <!-- Slide x -->
                 {{ if .Params.collab}}
                <div class="blaze-slide">
                    <div class="w-80 h-fit mr-2">
                        <div class="w-full h-60 relative">
                            <img class="rounded-lg w-full object-cover h-full" src="{{.Params.thumbnail}}" alt="">
                            <div class="rounded-lg absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/40"></div>
                        </div>
                        <h2 class="text-gray-800 text-base font-semibold mt-4 line-clamp-1">
                            {{.Params.title}}
                        </h2>
                    </div>
                </div>
                    {{end}}

                {{ end }}



            </div>
        </div>
    </div>
</div>
  
          <!-- banner 2 -->
          <div class="w-full px-7">
            <div class="pt-4 border-t">
              <h2 class="text-[#0E773F] text-base font-semibold">
                Project Areas
              </h2>
              <h2 class="text-gray-950 text-2xl font-semibold font-['Playfair Display'] font-serif mb-4">
                Community Engagement Activities
              </h2>
            </div>
            <article class="relative isolate flex flex-col justify-end overflow-hidden rounded-2xl px-8 pb-8 pt-20 lg:pt-40  w-full mx-auto">
              <img src="../notassets/project banner green version.png" alt="University of Southern California" class="absolute inset-0 h-full w-full object-cover">
              <div class="absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/40"></div>
              <h3 class="z-10 mt-3 text-3xl font-bold text-white">Collaborative Projects & Programs</h3>
              <div class="z-10 gap-y-1 overflow-hidden text-sm leading-6 text-gray-300 text-justify lg:text-left">
                Resilient Communities offers multiple community activities with local associations and organizations in Tameslouht for exchange student groups in Morocco such as AMIDEAST, Center for Language and Culture in Marrakech, and Morocco Exchange.
                Activities have taken place with local associations at the Youth Center and the well-known Fiers et Forts Centre. Within the community, we offer students to visit a local family and eat a home cooked meal with them. Then we take to the streets by placing, planting, and painting pots with our engaging the “Zwin-Up” activity!
              </div>
            </article>
  
          </div>
        <!-- slider 2 -->
        <div class="relative px-7 overflow-hidden">
            <div class="pt-8 blaze-slider">
            <div class="blaze-container">
                <div class="blaze-track">
                    {{ range .Pages }}
                    <!-- Slide x -->
                     {{ if .Params.comm}}
                    <div class="blaze-slide">
                        <div class="w-80 h-fit mr-2">
                            <div class="w-full h-60 relative">
                                <img class="rounded-lg w-full object-cover h-full" src="{{.Params.thumbnail}}" alt="">
                                <div class="rounded-lg absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/40"></div>
                            </div>
                            <h2 class="text-gray-800 text-base font-semibold mt-4 line-clamp-1">
                                {{.Params.title}}
                            </h2>
                        </div>
                    </div>
                        {{end}}
    
                    {{ end }}
              
                </div>
            </div>

            </div>
        </div>
  
      <!-- banner 3 -->
      <div class="w-full px-7">
        <div class="pt-4 border-t">
          <h2 class="text-[#0E773F] text-base font-semibold">
            Project Areas
          </h2>
          <h2 class="text-gray-950 text-2xl font-semibold font-['Playfair Display'] font-serif mb-4">
            Training & Development
          </h2>
        </div>
        <article class="relative isolate flex flex-col justify-end overflow-hidden rounded-2xl px-8 pb-8 pt-20 lg:pt-40  w-full mx-auto">
          <img src="../notassets/Projects pics/Training and development/banner.jpg" alt="University of Southern California" class="absolute inset-0 h-full w-full object-cover">
          <div class="absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/40"></div>
          <h3 class="z-10 mt-3 text-3xl font-bold text-white">Training & Development</h3>
          <div class="z-10 gap-y-1 overflow-hidden text-sm leading-6 text-gray-300 text-justify lg:text-left">
            Resilient Communities believes that social development is the cornerstone of building stronger communities for the future. An educated and empowered public has the potential to set in motion anything they can dream of. Often, youth need mentors to guide them and resources to help get them started. Resilient Communities, alongside our amazing partner associations, help empower communities by offering seminars, workshops, and trainings for youth and local associations.
  
            Our Workshop Packages are offered in-person or virtually and in English, French, or Moroccan Arabic (Darija). Materials we provide are Facilitator and Participant Manuals, and Presentation Slides.        </div>
        </article>
  
      </div>
<!-- Slider 3 -->
<div class="relative px-7 overflow-hidden">
    <div id="blur-overlay"></div>

    <div class="pt-8 blaze-slider">
        <div class="blaze-container">
            <div class="blaze-track">
                {{ range .Pages }}
                {{ if .Params.training }}
                <!-- Slide x -->
                <div class="blaze-slide">
                    <div class="w-80 h-fit mr-2" data-train = "yes" data-title="{{.Params.title}}" data-description="{{.Params.desc}}" data-docurl="{{.Params.manualPdf}}">
                        <div class="w-full h-60 relative">
                            <img class="rounded-lg w-full object-cover h-full" src="{{.Params.thumbnail}}" alt="">
                            <div class="rounded-lg absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/40"></div>
                        </div>
                        <h2 class="text-gray-800 text-base font-semibold mt-4 line-clamp-1">
                            {{.Params.title}}
                        </h2>
                    </div>
                </div>
                {{ end }}
                {{ end }}
            </div>
        </div>
    </div>
</div>


  

    <script>
        document.addEventListener("DOMContentLoaded", () => {
          // Initialize sliders array
          const sliders = [];
      
          const initializeSliders = () => {
            // Destroy existing sliders if they exist
            sliders.forEach(slider => slider.destroy());
            sliders.length = 0; // Clear the sliders array
      
            // Find all elements with class '.blaze-slider' and initialize Blaze Slider for each
            const sliderElements = document.querySelectorAll('.blaze-slider');
            sliderElements.forEach(element => {
              const slider = new BlazeSlider(element, {
                all: {
                  slidesToShow: 1,
                  transitionDuration: 300,
                  loop: true,
                },
                '(min-width: 600px)': {
                  slidesToShow: 1,
                },
                '(min-width: 800px)': {
                  slidesToShow: 4,
                },
              });
              sliders.push(slider); // Push the initialized slider instance to the sliders array
            });
          };
      
          // Initialize sliders on page load
          initializeSliders();
      
          // Re-initialize sliders on window resize for responsiveness
          window.addEventListener('resize', initializeSliders);
        });
      </script>

<script>
    // Content for the popup
    var blurOverlay = document.getElementById('blur-overlay');

    document.querySelectorAll('.blaze-slide > div').forEach(element => {
        if (element.getAttribute("data-train") === "yes") {
            element.addEventListener('click', () => {
            openPopup(element);
        });
        }

    });

    function openPopup(element) {
    blurOverlay.style.display = 'flex';
    var popup = document.createElement('div');
    popup.innerHTML = `
        <div class="bg-white flex flex-col justify-between m-auto rounded-lg lg:flex-row p-4 w-full max-w-4xl">
            <div class="w-full lg:w-1/3 mb-4 lg:mb-0 lg:mr-4">
                <img class="w-full h-full object-cover rounded-lg" src="${element.querySelector('img').src}" alt="Thumbnail">
            </div>
            <div class="w-full lg:w-2/3 lg:pl-4">
                <h2 class="text-gray-800 text-xl font-semibold mb-2">
                    ${element.getAttribute("data-title")}
                </h2>
                <span class="text-gray-600 block mb-4">
                    ${element.getAttribute("data-description")}
                </span>
                <a href="${element.getAttribute("data-docurl")}" download class="text-blue-500 hover:underline flex items-center mt-4">
                    <img src="/notassets/file.png" class="w-5 h-auto mr-2" alt="">
                    Participant's Manual
                </a>
            </div>
        </div>
    `;
    popup.style.position = 'fixed';
    popup.style.width = '90%';
    popup.style.height = 'auto';
    popup.style.top = '50%';
    popup.style.left = '50%';
    popup.style.transform = 'translate(-50%, -50%)';
    popup.style.zIndex = '1111';
    popup.style.overflowY = 'auto';
    popup.classList.add('popup'); // Add a class to the popup for easier selection
    document.body.appendChild(popup);

    blurOverlay.addEventListener('click', (event) => {
        if (!popup.contains(event.target)) {
            closePopup(popup);
        }
    }, { once: true });
}

    function closePopup(popup) {
        blurOverlay.style.display = 'none';
        document.body.removeChild(popup);
    }
</script>

      
{{ end }}
